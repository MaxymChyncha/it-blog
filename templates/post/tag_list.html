{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
  <div class="sidebar-nav">
    {% if user.is_staff %}
      <a style="float: right" href="{% url 'post:tag-create' %}"
         class="matrix-button-primary btn-primary btn link-to-page">
        Create
      </a>
    {% endif %}
    <h1>Tags</h1>
    <form method="get" action="" class="matrix-form-inline form-inline">
      {{ search_form }}
      <input style="background-color: green" type="submit" value="🔎" class="btn-secondary">
    </form>
    {% if tag_list %}
      <table class="table">
        <tr>
          <th>Tag</th>
          <th>Posts</th>
        </tr>
        {% for tag in tag_list %}
          <tr>
            <td><a href="{{ tag.get_absolute_url }}" class="matrix-link">{{ tag.name }}</a></td>
            <td>{{ tag.posts_counter }}</td>
          </tr>
        {% endfor %}
      </table>
    {% else %}
      <p>There are no tags here yet!</p>
    {% endif %}
  </div>
{% endblock %}
